{% extends 'base.html' %}
{% block body %}
{% load static %}
<head>
<link rel="stylesheet" href="{% static 'boot/css/bootstrap.min.css' %}">
</head>
<body>
<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-8">

      <div class="card">
        <div class="card-header bg-primary text-white d-flex justify-content-center">
          <h1 class="mb-0">Create New Match</h1>
        </div>
        <br/>

        <form method="POST" enctype="multipart/form-data">
          {% csrf_token %}
          <div class="form-group row">
            <label for="id_futsal" class="col-sm-3 col-form-label"> &nbsp; Futsal:</label>
            <div class="col-sm-6">
              {{ form.futsal }}
            </div>
          </div>
          <br/>
          <div class="form-group row">
            <label for="id_date" class="col-sm-3 col-form-label">&nbsp; Date:</label>
            <div class="col-sm-6">
              {{ form.date }}
            </div>
          </div>
          <br/>
          <div class="form-group row">
            <label for="id_first_team" class="col-sm-3 col-form-label">&nbsp; First Team:</label>
            <div class="col-sm-6">
              {{ form.first_team }} {{ form.first_image }}
            </div>
          </div>
          <br/>
          <br/>
          <div class="form-group row">
            <label for="id_second_team" class="col-sm-3 col-form-label">&nbsp; Second Team:</label>
            <div class="col-sm-6">
              {{ form.second_team }}  {{ form.second_image }}
            </div>
          </div>
          <br/>
          <br/>
          <div class="form-group row">
            <label for="id_start_time" class="col-sm-3 col-form-label">&nbsp; Start Time:</label>
            <div class="col-sm-6">
              {{ form.start_time }}
            </div>
          </div>
          <br/>
          <div class="form-group row">
            <label for="id_end_time" class="col-sm-3 col-form-label">&nbsp; End Time:</label>
            <div class="col-sm-6">
              {{ form.end_time }}
            </div>
          </div>
          <br/>
          <div class="form-group row">
            <label for="id_playercount" class="col-sm-3 col-form-label">&nbsp; Player Count:</label>
            <div class="col-sm-6">
              {{ form.playercount }}
            </div>
          </div>
          <br/>
          <div class="form-group row">
            <label for="id_gametype" class="col-sm-3 col-form-label">&nbsp; Game Type:</label>
            <div class="col-sm-6">
              {{ form.gametype }}
            </div>
          </div>
          <br/>
          <button class="card-button" type="submit">Create</button>
        </form>
      </div>

    </div>
  </div>
</div>
</body>
<script src="{% static 'boot/js/bootstrap.min.js' %}"></script>
<script>
  $(document).ready(function () {
    $("#createMatchForm").on("submit", function (event) {
     
      $("#errorContainer").empty();

      
      var formValid = true;
      $("input[required]").each(function () {
        if ($(this).val() === "") {
          formValid = false;
          var fieldName = $(this).attr("name");
          $("#errorContainer").append(
            '<p class="text-danger">The ' +
              fieldName +
              " field is required.</p>"
          );
        }
      });

      // If form is not valid, prevent submission
      if (!formValid) {
        event.preventDefault();
      }
    });
  });
</script>

{% endblock %}
